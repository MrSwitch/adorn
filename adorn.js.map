{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/tricks/array/toArray.js","node_modules/tricks/browser/http/getScript.js","node_modules/tricks/browser/http/json.js","node_modules/tricks/browser/http/jsonp.js","node_modules/tricks/dom/addClass.js","node_modules/tricks/dom/attr.js","node_modules/tricks/dom/create.js","node_modules/tricks/dom/createElement.js","node_modules/tricks/dom/documentElement.js","node_modules/tricks/dom/each.js","node_modules/tricks/dom/findPos.js","node_modules/tricks/dom/fragment.js","node_modules/tricks/dom/hasClass.js","node_modules/tricks/dom/id.js","node_modules/tricks/dom/insertAfter.js","node_modules/tricks/dom/insertBefore.js","node_modules/tricks/dom/isDom.js","node_modules/tricks/dom/link.js","node_modules/tricks/dom/matches.js","node_modules/tricks/dom/meta.js","node_modules/tricks/dom/parent.js","node_modules/tricks/dom/parents.js","node_modules/tricks/dom/prepend.js","node_modules/tricks/dom/query.js","node_modules/tricks/dom/removeClass.js","node_modules/tricks/dom/until.js","node_modules/tricks/events/createEvent.js","node_modules/tricks/events/delegate.js","node_modules/tricks/events/globalCallback.js","node_modules/tricks/events/off.js","node_modules/tricks/events/on.js","node_modules/tricks/events/ready.js","node_modules/tricks/helper/cordovaExternalLinks.js","node_modules/tricks/object/Defer.js","node_modules/tricks/object/instanceOf.js","node_modules/tricks/object/tryCatch.js","node_modules/tricks/services/googleanalytics.js","node_modules/tricks/string/fullpath.js","node_modules/tricks/string/jsonParse.js","node_modules/tricks/string/ltrim.js","node_modules/tricks/string/param.js","node_modules/tricks/string/querystringify.js","node_modules/tricks/string/random.js","node_modules/tricks/support/CSSsupports.js","node_modules/tricks/support/cordova.js","node_modules/tricks/support/html5.js","node_modules/tricks/support/mobile.js","node_modules/tricks/support/touch.js","node_modules/tricks/time/sleep.js","node_modules/tricks/window/onhashchange.js","node_modules/tricks/window/popup.js","node_modules/tricks/window/url.js","src/adorn.js","src/components/content.js","src/components/contentSelect.js","src/components/footer.js","src/components/helpers.js","src/components/security.js","src/components/sidebar.js","src/components/social.js","src/components/toolbar.js","src/components/viewport.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length",1,"module","obj","Array","prototype","slice","createElement","createEvent","url","callback","timeout","arguments","undefined","bool","timer","head","document","getElementsByTagName","parentNode","cb","clearTimeout","window","setTimeout","script","src","onerror","onload","onreadystatechange","test","readyState","async","insertBefore","firstChild","jsonParse","tryCatch","x","XMLHttpRequest","v","_typeof","response","open","responseType","send","globalCallback","getScript","MATCH_CALLBACK_PLACEHOLDER","callback_name","result","json","replace","removeChild","each","hasClass","elements","className","el","props","element","prop","setAttribute","node","attr","children","append","hasOwnProperty","appendChild","createTextNode","innerHTML","y","forEach","child","tagName","attrs","elm","documentElement","body","isDom","instanceOf","toArray","matches","querySelectorAll","curleft","curtop","offsetParent","offsetLeft","offsetTop","_len","args","_key","frag","createDocumentFragment","until","reg","RegExp","match","tag","id","ref","innerText","textContent","toLowerCase","nextSibling","_HTMLElement","HTMLElement","Element","_HTMLDocument","HTMLDocument","Document","_Window","constructor","query","name","href","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","handler","content","parents","ul","m","push","parent","querySelector","dict","bubbles","cancelable","eventname","options","Event","initEvent","on","off","eventName","root","eventHandler","target","delegateTarget","remove","handle","guid","apply","random","prefix","bind","SEPERATOR","eventnames","split","removeEventListener","supportsPassive","opts","Object","defineProperty","get","addEventListener","passive","delegate","cordova","preventDefault","Defer","_classCallCheck","this","items","state","_createClass","key","value","_items","_this","item","set","fn","tracking","_gaq","location","protocol","path","relative","URL","str","JSON","parse","trim","indexOf","hash","delimiter","seperator","formatFunction","keys","map","join","param","encodeURIComponent","formatter","parseInt","Math","toString","property","enabled","mobile","filesystem","navigator","userAgent","CSSsupports","period","substr","generatePosition","_ref","_ref2","_slicedToArray","Position","Dimension","position","dimension","dualScreenPos","screen","d","dimensions","Function","cloneNode","setup","base","manifest","_meta2","default","_link2","_create2","rel","theme_color","favicon","_fullpath2","author","_hasClass2","_documentElement2","_toolbar2","_sidebar2","_footer2","getAttribute","lang","title","_query2","_googleanalytics2","sw","serviceworker","serviceWorker","ready","then","fallover","mode","controller","postMessage","type","register","catch","err","console","error","_ready2","_helpers2","manifest_path","_json2","_cordovaExternalLinks2","updateHashLocation","headings","T","scrollY","pageYOffset","H","innerHeight","toolbar","toolbar_height","offsetHeight","anchor","_findPos2","_until2","history","replaceState","_onhashchange2","defer","_Defer2","_each2","_id2","aria-label","class","selected","scrollIntoView","_addClass2","resolve","sleepId","_sleep2","_on2","createContentSelect","toc","select","selectedIndex","_group","depth","text","label","_content2","lenth","tryitButton","pre","func","btn","_insertAfter2","tryit","eval","_each","_on","_create","_insertAfter","_attr2","getParentUL","j","_parent2","prev","_prepend2","_removeClass2","github_btn","paths","github","repo","repo_path","repo_file","link","pathname","_jsonp2","data","watchers","_fragment2","twitter_btn","twitter_creator","data-via","count","width","height","params","via","hashtag","_popup2","_querystringify2","share_btn","share","style","color","_social","root_path","_url2","_ltrim2","filter","s","crumbs","alt","hostname","val","index","breadcrumbs","social_btns","shoutout","insertAdjacentHTML","aside","_insertBefore2","firstElementChild","_contentSelect2"],"mappings":"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","file":"adorn.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = obj => Array.prototype.slice.call(obj);\n","const createElement = require('../../dom/createElement.js');\nconst createEvent = require('../../events/createEvent.js');\n\nmodule.exports = (url, callback, timeout = 0) => {\n\n\t// Inject a script tag\n\tlet bool = 0;\n\tlet timer;\n\tconst head = document.getElementsByTagName('script')[0].parentNode;\n\tconst cb = e => {\n\t\tif (!(bool++) && callback) {\n\t\t\tcallback(e);\n\t\t}\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t};\n\n\t// Add timeout\n\tif (timeout) {\n\t\ttimer = window.setTimeout(() => {\n\t\t\tcb(createEvent('timeout'));\n\t\t}, timeout);\n\t}\n\n\t// Build script tag\n\tconst script = createElement('script', {\n\t\tsrc: url,\n\t\tonerror: cb,\n\t\tonload: cb,\n\t\tonreadystatechange: () => {\n\t\t\tif (/loaded|complete/i.test(script.readyState)) {\n\t\t\t\tcb(createEvent('load'));\n\t\t\t}\n\t\t}\n\t});\n\n\t// Set Async\n\tscript.async = true;\n\n\t// Inject script tag into the head element\n\thead.insertBefore(script, head.firstChild);\n\n\treturn script;\n};\n","// JSON\nconst jsonParse = require('../../string/jsonParse.js');\nconst tryCatch = require('../../object/tryCatch.js');\n\nmodule.exports = (url, callback) => {\n\n\tconst x = new XMLHttpRequest();\n\tx.onload = () => {\n\t\t// Get the JSON response\n\t\tconst v = (typeof x.response === 'object') ? x.response : jsonParse(x.response);\n\n\t\t// Callback\n\t\tcallback(v);\n\t};\n\tx.onerror = callback;\n\tx.open('GET', url);\n\n\t// Set responseType if supported\n\tif ('responseType' in x) {\n\t\t// Setting this to an unsupported value can result in a \"SYNTAX_ERR: DOM Exception 12\"\n\t\ttryCatch(() => x.responseType = 'json');\n\t}\n\n\tx.send();\n};\n","// JSONP\nconst globalCallback = require('../../events/globalCallback.js');\nconst getScript = require('./getScript.js');\n\nconst MATCH_CALLBACK_PLACEHOLDER = /=\\?(&|$)/;\n\nmodule.exports = (url, callback, callback_name, timeout = 60000) => {\n\n\t// Change the name of the callback\n\tlet result;\n\n\t// Add callback to the window object\n\tcallback_name = globalCallback(json => {\n\t\tresult = json;\n\t\treturn true; // this ensure the window reference is removed\n\t}, callback_name);\n\n\t// The URL is a function for some cases and as such\n\t// Determine its value with a callback containing the new parameters of this function.\n\turl = url.replace(MATCH_CALLBACK_PLACEHOLDER, `=${ callback_name }$1`);\n\n\tconst script = getScript(url, () => {\n\t\tcallback(result);\n\t\tscript.parentNode.removeChild(script);\n\t}, timeout);\n\n\treturn script;\n};\n","// addClass\nconst each = require('./each.js');\nconst hasClass = require('./hasClass.js');\n\nmodule.exports = (elements, className) =>\n\teach(elements, el => {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += ` ${ className}`;\n\t\t}\n\t});\n","const each = require('./each.js');\n\nmodule.exports = (elements, props) =>\n\teach(elements, element => {\n\t\tfor (const x in props) {\n\t\t\tconst prop = props[x];\n\t\t\tif (typeof prop === 'function') {\n\t\t\t\telement[x] = prop;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.setAttribute(x, prop);\n\t\t\t}\n\t\t}\n\t});\n","// Create and Append new Dom elements\n// @param node string\n// @param attr object literal\nmodule.exports = (node, attr = {}, children = [], append = null) => {\n\n\tconst n = typeof(node) === 'string' ? document.createElement(node) : node;\n\n\t// Attributes\n\tfor (const x in attr) {\n\n\t\tif (attr.hasOwnProperty(x)) {\n\n\t\t\tif (x === 'text') {\n\t\t\t\tn.appendChild(document.createTextNode(attr[x]));\n\t\t\t}\n\t\t\telse if (x === 'html') {\n\t\t\t\tif (typeof(attr[x]) === 'string') {\n\t\t\t\t\tn.innerHTML = attr[x];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tn.appendChild(attr[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (typeof(attr[x]) === 'object') {\n\t\t\t\tfor (const y in attr[x]) {\n\t\t\t\t\tif (attr[x].hasOwnProperty(y)) {\n\t\t\t\t\t\tn[x][y] = attr[x][y];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tn.setAttribute(x, attr[x]);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Children\n\tchildren.forEach(child => {\n\t\tif (typeof(child) === 'string') {\n\t\t\tchild = document.createTextNode(child);\n\t\t}\n\n\t\tif (child) {\n\t\t\tn.appendChild(child);\n\t\t}\n\t});\n\n\t// Append\n\tif (append) {\n\t\tappend.appendChild(n);\n\t}\n\n\treturn n;\n};\n","const attr = require('./attr.js');\n\nmodule.exports = (tagName, attrs) => {\n\tconst elm = document.createElement(tagName);\n\tattr(elm, attrs);\n\treturn elm;\n};\n","module.exports = document.documentElement || document.body.parentNode;\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","// Find position of an element\nmodule.exports = obj => {\n\n\tlet curleft = 0;\n\tlet curtop = 0;\n\n\tif (obj.offsetParent) {\n\t\tdo {\n\t\t\tcurleft += obj.offsetLeft;\n\t\t\tcurtop += obj.offsetTop;\n\t\t} while ((obj = obj.offsetParent));\n\t}\n\n\treturn [curleft, curtop];\n};\n","module.exports = (...args) => {\n\tconst frag = document.createDocumentFragment();\n\targs.forEach(el => frag.appendChild(el));\n\treturn frag;\n};\n","const until = require('./until.js');\n\nmodule.exports = (elements, className) => {\n\tconst reg = new RegExp(`(^|\\\\s)${ className }($|\\\\s)`, 'i');\n\treturn until(elements, el => (el.className || '').match(reg));\n};\n","// Auto Set/Get the ID of a tag element based\nmodule.exports = tag => {\n\n\tif (tag.id) {\n\t\treturn tag.id;\n\t}\n\n\tconst text = (tag.innerText || tag.textContent || tag.innerHTML);\n\tconst ref = text.toLowerCase().replace(/\\s/g, '-').replace(/[^a-z0-9_-]/g, '');\n\n\ttag.id = ref;\n\n\treturn ref;\n};\n","// Insert After\nmodule.exports = (el, ref) => {\n\tif (ref.nextSibling) {\n\t\tref.parentNode.insertBefore(el, ref.nextSibling);\n\t}\n\telse {\n\t\tref.parentNode.appendChild(el);\n\t}\n};\n","module.exports = (el, ref) => ref.parentNode.insertBefore(el, ref);\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = (typeof HTMLElement !== 'undefined' && HTMLElement) || (typeof Element !== 'undefined' && Element);\nconst _HTMLDocument = (typeof HTMLDocument !== 'undefined' && HTMLDocument) || (typeof Document !== 'undefined' && Document);\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","const tryCatch = require('../object/tryCatch.js');\nconst query = require('./query.js');\n\nmodule.exports = name => tryCatch(() => query(`link[rel=\"${ name }\"]`).href);\n","const until = require('./until.js');\n\nconst el = document.createElement('div');\nconst matches = (el.matches || el.mozMatchesSelector || el.webkitMatchesSelector || el.msMatchesSelector || el.oMatchesSelector);\n\nmodule.exports = (elements, query) => {\n\n\tlet handler = query;\n\n\tif (typeof query === 'string') {\n\t\thandler = el => matches.call(el, query);\n\t}\n\n\treturn until(elements, handler);\n};\n","const tryCatch = require('../object/tryCatch.js');\nconst query = require('./query.js');\n\nmodule.exports = name => tryCatch(() => query(`meta[name=\"${ name }\"]`).content);\n","// Find first parent of an element which matches a pattern\n\nconst parents = require('./parents.js');\n\nmodule.exports = (elements, match) => {\n\tconst ul = parents(elements, match);\n\treturn ul.length ? ul[0] : null;\n};\n","// Find parents of an element which match a pattern\n\nconst each = require('./each.js');\nconst matches = require('./matches.js');\nconst documentElement = require('./documentElement.js');\n\nmodule.exports = (elements, match) => {\n\tconst m = [];\n\teach(elements, el => {\n\t\twhile (el && el.parentNode) {\n\t\t\tel = el.parentNode;\n\n\t\t\tif (el === document) {\n\t\t\t\tel = documentElement;\n\t\t\t}\n\n\t\t\tif (matches(el, match)) {\n\t\t\t\tm.push(el);\n\t\t\t}\n\n\t\t\tif (el === documentElement) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n\treturn m;\n};\n","const createElement = require('./createElement.js');\n\nmodule.exports = (tagName, prop, parent = document.body) => {\n\tconst elm = createElement(tagName, prop);\n\tparent.insertBefore(elm, parent.firstChild);\n\treturn elm;\n};\n","// Select a single element\nmodule.exports = (query, parent = document) => parent.querySelector(query);\n","// removeClass\nconst each = require('./each.js');\n\nmodule.exports = (elements, className) => {\n\tconst reg = new RegExp(`(^|\\\\s)${ className }($|\\\\s)`, 'ig');\n\treturn each(elements, el => {\n\t\tel.className = el.className.replace(reg, ' ');\n\t});\n};\n","const each = require('./each.js');\n\nmodule.exports = (elements, callback) => {\n\tlet bool;\n\n\teach(elements, el => {\n\t\tif (!bool) {\n\t\t\tbool = callback(el);\n\t\t}\n\t});\n\n\treturn bool;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","const on = require('./on.js');\nconst off = require('./off.js');\nconst matches = require('../dom/matches.js');\n\nmodule.exports = (match, eventName, handler, root = document) => {\n\n\tconst eventHandler = e => {\n\t\tlet target = e.target;\n\t\twhile (target) {\n\t\t\tif (matches(target, match)) {\n\t\t\t\te.delegateTarget = target;\n\t\t\t\thandler(e);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Next: match parentNode?\n\t\t\t\ttarget = target.parentNode;\n\t\t\t}\n\t\t}\n\t};\n\n\ton(root, eventName, eventHandler);\n\n\treturn {\n\t\tremove: () => off(root, eventName, eventHandler)\n\t};\n};\n","// Global Events\n// Attach the callback to the window object\n// Return its unique reference\nconst random = require('../string/random.js');\n\nmodule.exports = (callback, guid, prefix = '_tricks_') => {\n\n\t// If the guid has not been supplied then create a new one.\n\tguid = guid || prefix + random();\n\n\t// Define the callback function\n\twindow[guid] = handle.bind(null, guid, callback);\n\n\treturn guid;\n};\n\nfunction handle(guid, callback, ...args) {\n\tcallback(...args) && delete window[guid];\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s,]+/;\n\nmodule.exports = (elements, eventnames, callback) => {\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.removeEventListener(eventname, callback)));\n};\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() {\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n","const on = require('./on.js');\n\nmodule.exports = callback => {\n\tif (document.readyState !== 'loading' && document.body) {\n\t\tcallback();\n\t}\n\telse {\n\t\ton(document, 'DOMContentLoaded', callback);\n\t}\n};\n","const delegate = require('../events/delegate');\nconst cordova = require('../support/cordova');\n\nmodule.exports = (root = document) => {\n\tif (!cordova) {\n\t\treturn false;\n\t}\n\telse {\n\t\t// Enable event delegation to fix anchor elements\n\t\tdelegate('a', 'click', e => {\n\n\t\t\tconst target = e.delegateTarget;\n\n\t\t\t// Check this is a valid external URL...\n\t\t\tif (target.href && target.href.match(/^https?:\\/\\//)) {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.open(target.href, '_system');\n\t\t\t}\n\t\t}, root);\n\t}\n};\n","// Defer\n// Creates a new Iterative object\n\nmodule.exports = class Defer {\n\n\tconstructor (...args) {\n\t\tthis.items = [];\n\t\tthis.state = 'pending';\n\t\tthis.response = null;\n\t\tthis.push(...args);\n\t}\n\n\t// Mimic the Array.push function\n\tpush (...args) {\n\n\t\t// Append items to the internal array.\n\t\tthis.items.push(...args);\n\n\t\t// Trigger the custom handler\n\t\tif (this.state !== 'pending') {\n\t\t\t// Trigger the callbacks\n\t\t\tthis.items.forEach(item => item(this.response));\n\n\t\t\t// Remove all the defered items\n\t\t\tthis.length = 0;\n\t\t}\n\t}\n\n\t// Mimic the length\n\tget length () {\n\t\treturn this.items.length;\n\t}\n\tset length (value) {\n\t\treturn this.items.length = value;\n\t}\n\n\tresolve (response) {\n\n\t\t// Change the instances state\n\t\tthis.state = 'resolved';\n\t\tthis.response = response;\n\n\t\t// Trigger the callbacks\n\t\tthis.push();\n\t}\n};\n","module.exports = (test, root) => root && test instanceof root;\n","module.exports = fn => {\n\ttry {\n\t\treturn fn.call(null);\n\t}\n\tcatch (e) {\n\t\t// Continue\n\t}\n};\n","/* global _gaq */\nconst getScript = require('../http/getScript.js');\n\nmodule.exports = tracking => {\n\twindow._gaq = window._gaq || [];\n\t_gaq.push(['_setAccount', tracking]);\n\t_gaq.push(['_trackPageview']);\n\n\tgetScript(`${'https:' === document.location.protocol ? 'https://ssl' : 'http://www' }.google-analytics.com/ga.js`);\n};\n","// Return the relative url for a path\nmodule.exports = (path, relative = './') => {\n\tif (!path) {\n\t\treturn '';\n\t}\n\n\ttry {\n\t\t// This only works in a few browsers, but what the heck. i'll fix it later\n\t\treturn (new URL(path, new URL(relative, window.location))).href || path;\n\t}\n\tcatch (e) {\n\t\treturn path;\n\t}\n};\n","const tryCatch = require('../object/tryCatch.js');\nmodule.exports = str => tryCatch(() => JSON.parse(str));\n","// Return trimmed string\nmodule.exports = (str, trim) => {\n\tif (!trim) {\n\t\treturn str;\n\t}\n\tif (str.indexOf(trim) === 0) {\n\t\treturn str.slice(trim.length);\n\t}\n\treturn str;\n};\n","// Param\n// Explode/encode the parameters of an URL string/object\n// @param string s, string to decode\nmodule.exports = (hash, delimiter = '&', seperator = '=', formatFunction = o => o) =>\n\tObject.keys(hash).map(name => {\n\t\tconst value = formatFunction(hash[name]);\n\t\treturn name + (value !== null ? seperator + value : '');\n\t}).join(delimiter)\n;\n","// Create a Query string\nconst param = require('./param.js');\nconst fn = value => (value === '?' ? '?' : encodeURIComponent(value));\n\nmodule.exports = (o, formatter = fn) => param(o, '&', '=', formatter);\n","module.exports = () => parseInt(Math.random() * 1e12, 10).toString(36);\n","// Add browser ability to the window HTML.classList\nmodule.exports = (property, enabled) => {\n\tdocument.documentElement.className = `${document.documentElement.className } ${ enabled ? '' : 'no-' }${property}`;\n};\n","// Phonegap/Cordova Device\nconst mobile = require('./mobile.js');\n\nconst filesystem = /^file:\\/{3}[^/]/i.test(window.location.href);\n\nmodule.exports = (mobile && filesystem);\n","\n'header,section,datalist,option,footer,nav,menu,aside,article,style,script'.split(',').forEach(tag => document.createElement(tag));\n","// device mobile\nconst bool = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\nmodule.exports = bool;\n","const CSSsupports = require('./CSSsupports.js');\n\nconst result = ('ontouchstart' in window);\n\nCSSsupports('touch', result);\n\nmodule.exports = result;\n","// Sleep\n// Creates an instance of a function which\nlet i = 1;\nconst hash = {};\n\nmodule.exports = (callback, period = 0, guid = i++) => {\n\n\tif (guid && hash[guid]) {\n\t\tclearTimeout(hash[guid]);\n\t\tdelete hash[guid];\n\t}\n\n\tif (callback) {\n\t\t// Set the period to change the state.\n\t\thash[guid] = setTimeout(() => {\n\t\t\tcallback();\n\t\t}, period);\n\t}\n\n\treturn guid;\n};\n","// onhashchange\nconst on = require('../events/on');\n\nconst a = [];\n\non(window, 'hashchange', handler);\n\nfunction handler() {\n\n\t// Get the hash value\n\tconst hash = \twindow.location.hash.substr(1);\n\n\t// Loop through all the handlers\n\ta.forEach(callback => {\n\t\tcallback.call(null, hash);\n\t});\n}\n\nmodule.exports = callback => {\n\n\tif (callback) {\n\t\ta.push(callback);\n\t}\n\telse {\n\t\thandler();\n\t}\n};\n","// popup\n// Easy options as a hash\nconst param = require('../string/param.js');\n\nconst documentElement = document.documentElement;\nconst dimensions = [['Top', 'Height'], ['Left', 'Width']];\n\nmodule.exports = (url, target, options = {}) => {\n\n\t// centers the popup correctly to the current display of a multi-screen display.\n\tdimensions.forEach(generatePosition.bind(options));\n\n\t// Open\n\treturn window.open(url, target, param(options, ','));\n};\n\nfunction generatePosition ([Position, Dimension]) {\n\tconst position = Position.toLowerCase();\n\tconst dimension = Dimension.toLowerCase();\n\tif (this[dimension] && !(position in this)) {\n\t\tconst dualScreenPos = window[`screen${ Position}`] !== undefined ? window[`screen${ Position}`] : screen[position];\n\t\tconst d = screen[dimension] || window[`inner${ Dimension}`] || documentElement[`client${ Dimension}`];\n\t\tthis[position] = parseInt((d - this[dimension]) / 2, 10) + dualScreenPos;\n\t}\n}\n","module.exports = path => {\n\n\t// If the path is empty\n\tif (!path) {\n\t\treturn window.location;\n\t}\n\n\t// Chrome and FireFox support new URL() to extract URL objects\n\telse if (window.URL && URL instanceof Function && URL.length !== 0) {\n\t\treturn new URL(path, window.location);\n\t}\n\n\t// Ugly shim, it works!\n\telse {\n\t\tconst a = document.createElement('a');\n\t\ta.href = path;\n\t\t// Return clone for IE compatibility view.\n\t\treturn a.cloneNode(false);\n\t}\n};\n","/*!*/\n/*! Adorn by Andrew Dodson, https://adodson.com/adorn/LICENSE (MIT) */\n\nimport json from 'tricks/http/json';\nimport fullpath from 'tricks/string/fullpath';\nimport meta from 'tricks/dom/meta';\nimport link from 'tricks/dom/link';\nimport query from 'tricks/dom/query';\nimport create from 'tricks/dom/create';\nimport hasClass from 'tricks/dom/hasClass';\nimport documentElement from 'tricks/dom/documentElement';\nimport ready from 'tricks/events/ready';\n\n// Touch exists?\nimport 'tricks/support/touch';\n\n// fix HTML5 in IE8\nimport 'tricks/support/html5';\n\n// fix viewport in mobile\nimport './components/viewport';\n\n// Phonegap Shim\nimport cordovaLinks from 'tricks/helper/cordovaExternalLinks';\n\n// Analytics\nimport ga from 'tricks/services/googleanalytics';\n\n// Components\nimport './components/security';\n\n// Components\nimport helpers from './components/helpers';\n\n// Inject controls into the page markup once the DOM has completely loaded.\nready(helpers);\n\n// Widget components\nimport footer from './components/footer';\nimport sidebar from './components/sidebar';\nimport toolbar from './components/toolbar';\n\n\n// Get the manifest\n{\n\t// Manifest\n\tconst manifest_path = meta('manifest') || link('manifest') || '/manifest.json';\n\n\t// Set the toolbar, doesn't work if document body is undefined\n\tjson(manifest_path, setup.bind(null, manifest_path));\n}\n\n// Is this a phonegap application?\n// Shim up the external Links issue\ncordovaLinks();\n\n\n// Setup function to be called when the body and the manifest exist.\nfunction setup(base, manifest) {\n\n\t// Is the manifest link missing?\n\tif (manifest && !(meta('manifest') || link('manifest'))) {\n\t\tcreate('link', {rel: 'manifest', href: base}, [], document.head);\n\t}\n\t// Is the theme_color missing\n\tif (manifest && manifest.theme_color && !meta('theme-color')) {\n\t\tcreate('meta', {name: 'theme-color', content: manifest.theme_color}, [], document.head);\n\t}\n\n\tif (!document.body) {\n\t\t// Just in case...\n\t\tready(setup.bind(null, base, manifest));\n\t\treturn;\n\t}\n\n\tmanifest = manifest || {};\n\n\t// Favicon\n\tmanifest.favicon = meta('favicon') || fullpath(manifest.favicon, base) || '/favicon.ico';\n\n\t// Author\n\tmanifest.author = meta('author') || manifest.author;\n\n\t// Root domain\n\tmanifest.root = meta('root') || fullpath(manifest.root || '/', base);\n\n\t// Markup\n\tif (!hasClass(documentElement, 'no-adorn')) {\n\t\t// Toolbar\n\t\ttoolbar(manifest);\n\n\t\t// Toolbar\n\t\tsidebar(manifest);\n\n\t\t// Footer\n\t\tfooter(manifest);\n\t}\n\n\t// Set Lang\n\tif (!documentElement.getAttribute('lang')) {\n\n\t\t// Choose the manifest data or english\n\t\tdocumentElement.setAttribute('lang', manifest.lang || 'en');\n\t}\n\n\t// Fill missing <Title>\n\tif (!document.title) {\n\t\t// Get it from the first H1 Element\n\t\tdocument.title = query('h1,h2').textContent || '';\n\t}\n\n\t// Analytics\n\t{\n\n\t\tconst tracking = meta('ga:tracking') || manifest['ga:tracking'];\n\n\t\tif (tracking) {\n\t\t\tga(tracking);\n\t\t}\n\n\t}\n\n\t// Service Workers\n\t{\n\n\t\tlet sw = meta('sw') || meta('serviceworker');\n\n\t\tif (sw) {\n\t\t\tsw = fullpath(sw);\n\t\t}\n\t\telse {\n\t\t\tsw = manifest.sw || manifest.serviceworker;\n\n\t\t\tif (sw) {\n\t\t\t\tsw = fullpath(sw, base);\n\t\t\t}\n\t\t}\n\n\t\tconst serviceWorker = navigator.serviceWorker;\n\n\t\tif (sw && serviceWorker) {\n\n\t\t\tserviceWorker.ready.then(() => {\n\n\t\t\t\t// Pass any offline fetch handling too\n\t\t\t\tconst fallover = manifest.fallover;\n\t\t\t\tif (fallover) {\n\t\t\t\t\t// Loop through the fallover list...\n\t\t\t\t\tfallover.forEach(item => {\n\t\t\t\t\t\tconst type = 'fallover';\n\t\t\t\t\t\tconst {mode} = item;\n\t\t\t\t\t\tlet {fallover} = item;\n\t\t\t\t\t\tfallover = fullpath(fallover, base);\n\n\t\t\t\t\t\t// Post to the service workers\n\t\t\t\t\t\tserviceWorker.controller.postMessage({type, fallover, mode});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tserviceWorker.register(sw).catch(err => {\n\t\t\t\t// registration failed :(\n\t\t\t\tconsole.error('Adorn: SW registration failed: ', err); // eslint-disable-line\n\t\t\t});\n\n\t\t}\n\t}\n}\n","import each from 'tricks/dom/each';\nimport until from 'tricks/dom/until';\nimport addClass from 'tricks/dom/addClass';\nimport on from 'tricks/events/on';\nimport create from 'tricks/dom/create';\nimport findPos from 'tricks/dom/findPos';\nimport id from 'tricks/dom/id';\nimport ready from 'tricks/events/ready';\nimport onhashchange from 'tricks/window/onhashchange';\nimport Defer from 'tricks/object/Defer';\nimport sleep from 'tricks/time/sleep';\n\n// Pending\nconst defer = new Defer();\n\n// Once the DOM has loaded we can get all the h1,h2 elements in the page\nready(() => {\n\n\t// TOC\n\tconst headings = each('h1,h2');\n\n\tif (!document.querySelector || !!(document.documentElement.className || '').match(/adorn-(nav|toc)-off/)) {\n\t\t// This feature is disabled\n\t\treturn;\n\t}\n\n\n\teach(headings, tag => {\n\n\t\t// Get the ID of the tag\n\t\tconst ref = id(tag);\n\n\t\t// Create an anchor for this tag\n\t\ttag.insertBefore(create('a', {name: ref, href: `#${ref}`, 'aria-label': `Jump to ${tag.innerText}`, class: 'adorn-anchor'}), tag.firstChild);\n\t});\n\n\n\t{\n\t\tconst hash = window.location.hash;\n\n\t\tif (hash && hash.length > 2) {\n\n\t\t\t// If the location.hash is defined, lets navigate to the item\n\t\t\tconst selected = document.querySelector(window.location.hash);\n\t\t\tif (selected) {\n\t\t\t\tselected.scrollIntoView();\n\t\t\t}\n\t\t}\n\t}\n\n\t// Is there a TOC\n\tif (headings.length) {\n\t\tsetTimeout(() => {\n\t\t\t// Lets add a class to the body\n\t\t\taddClass(document.documentElement, 'adorn-toc-on');\n\t\t});\n\t}\n\n\t// Resolve all the callbacks\n\tdefer.resolve(headings);\n\n\t// Get a sleepid\n\tconst sleepId = sleep();\n\n\t// Listen to scroll navigation position\n\ton(window, 'scroll', () => {\n\n\t\t// When this has been idle for the period defined\n\t\tsleep(updateHashLocation.bind(null, headings), 100, sleepId);\n\t});\n\n});\n\n// ///////////////////////////////////\n// Navigation\n// ///////////////////////////////////\n\nexport default callback => {\n\n\tdefer.push(callback);\n\n};\n\n\nfunction updateHashLocation (headings) {\n\n\t// Are properties which affect the position of elements on the page are still loading...\n\tif (document.readyState !== 'complete') {\n\t\t// Ok, then we shouldn't try to determine if the user has changed position in the document.\n\t\treturn;\n\t}\n\n\t// from the list of items\n\t// find the one which is in view on the page\n\tconst T = window.scrollY || window.pageYOffset;\n\tconst H = window.innerHeight;\n\n\tconst toolbar = document.querySelector('.adorn-toolbar');\n\n\tlet tag;\n\n\tconst toolbar_height = (toolbar && toolbar.offsetHeight) || 50;\n\n\t// Is the current hash in the viewport\n\tconst hash = window.location.hash;\n\n\tif (hash) {\n\t\tconst anchor = document.querySelector(hash);\n\n\t\tif (anchor) {\n\t\t\tconst t = findPos(anchor)[1];\n\t\t\tif (t > T && t < T + H) {\n\t\t\t\t// This is fine\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// Find the current selection\n\tuntil(headings, anchor => {\n\n\t\tconst t = findPos(anchor)[1] + toolbar_height;\n\n\t\tif (T < t) {\n\n\t\t\t// Stop looping\n\t\t\treturn true;\n\t\t}\n\n\t\t// set the last active tag\n\t\ttag = anchor;\n\t});\n\n\n\t// Has a tag been set?\n\tif (tag) {\n\t\t// Set as the current selected one\n\t\tlet ref = tag.getElementsByTagName('a')[0];\n\n\t\tif (ref) {\n\t\t\tref = ref.getAttribute('href').replace(/^#/, '');\n\t\t}\n\n\t\t// Change the current window hash\n\t\tif ('history' in window && 'replaceState' in window.history && window.location.hash !== `#${ ref}`) {\n\t\t\thistory.replaceState({}, document.title, `#${ ref}`);\n\t\t}\n\n\t\t// Trigger onhashchange\n\t\tonhashchange();\n\t}\n}\n","import each from 'tricks/dom/each';\nimport on from 'tricks/events/on';\nimport create from 'tricks/dom/create';\nimport id from 'tricks/dom/id';\nimport onhashchange from 'tricks/window/onhashchange';\nimport getContent from './content';\n\n// ///////////////////////////////////\n// Navigation\n// ///////////////////////////////////\n\nexport default parent => {\n\n\tgetContent(content => {\n\n\t\tif (content.lenth < 2) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Create a drop down SELECT box and add it too the breadcrumbs\n\t\tconst toc = createContentSelect(content, parent);\n\t\tparent.appendChild(toc);\n\t});\n};\n\n\nfunction createContentSelect(headings) {\n\tconst toc = create('div', {class: 'adorn-toc'});\n\n\tconst select = create('select', {'aria-label': 'menu'}, [], toc);\n\tconst options = [];\n\ton(select, 'change', () => {\n\t\twindow.location.hash = select.options[select.selectedIndex].value;\n\t});\n\n\tlet _group = select;\n\teach(headings, tag => {\n\n\t\t// Get ID\n\t\tconst depth = +tag.tagName.match(/[0-9]/)[0];\n\t\tconst text = (tag.innerText || tag.textContent || tag.innerHTML);\n\t\tconst ref = id(tag);\n\n\t\tif (depth === 1) {\n\t\t\t_group = create('optgroup', {label: text}, [], select);\n\t\t}\n\n\t\tcreate('option', {value: ref}, [text], _group);\n\n\t\toptions.push(ref);\n\n\t});\n\n\tonhashchange(hash => {\n\t\t// Update the SELECT\n\t\tselect.selectedIndex = options.indexOf(hash);\n\t});\n\n\treturn toc;\n}\n","import ready from 'tricks/events/ready';\nimport create from 'tricks/dom/create';\n\nexport default manifest => {\n\t// ///////////////////////////////////\n\t// FOOTER\n\t// ///////////////////////////////////\n\n\tif (manifest.author) {\n\n\t\tready(() => {\n\n\t\t\tconst author = manifest.author.split(/\\s*, \\s*/);\n\n\t\t\tif (author) {\n\n\t\t\t\tconst children = ['Authored by '];\n\n\t\t\t\tif (author[1]) {\n\t\t\t\t\tchildren.push(\n\t\t\t\t\t\tcreate('a', {\n\t\t\t\t\t\t\thref: author[1],\n\t\t\t\t\t\t\trel: 'author'\n\t\t\t\t\t\t}, [\n\t\t\t\t\t\t\tauthor[0]\n\t\t\t\t\t\t])\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchildren.push(author[0]);\n\t\t\t\t}\n\n\t\t\t\t// Add Footer link to the body\n\t\t\t\tcreate('footer', {}, children, document.body);\n\t\t\t}\n\n\t\t});\n\t}\n};\n","/*global tryit*/\nimport each from 'tricks/dom/each';\nimport on from 'tricks/events/on';\nimport create from 'tricks/dom/create';\nimport insertAfter from 'tricks/dom/insertAfter';\n\nexport default () => {\n\n\t// TryIt\n\teach('pre', pre => {\n\t\tif (pre.className === 'tryit' || pre.className === 'tryitoffline') {\n\t\t\t// Create a button and insert it after the pre tag\n\t\t\ttryitButton(pre);\n\t\t}\n\t});\n\n\t// TryIt, View\n\teach('script', script => {\n\t\tconst func = script.getAttribute('data-tryit');\n\t\tif (func) {\n\t\t\t// Create a button and insert it after the pre tag\n\t\t\ttryitButton(script, window[func]);\n\t\t}\n\n\t\tif (script.getAttribute('src')) {\n\n\t\t\t// Add click event to open in new window\n\t\t\ton(script, 'click', () => {\n\t\t\t\twindow.open(script.getAttribute('src'), '_blank');\n\t\t\t});\n\t\t}\n\t});\n\n\teach('link', script => {\n\t\tif (script.getAttribute('href')) {\n\n\t\t\t// Add click event to open in new window\n\t\t\ton(script, 'click', () => {\n\t\t\t\twindow.open(script.getAttribute('href'), '_blank');\n\t\t\t});\n\t\t}\n\t});\n};\n\nfunction tryitButton(pre, func) {\n\n\tconst btn = create('button', {class: 'tryit'}, ['tryit']);\n\n\tinsertAfter(btn, pre);\n\n\ton(btn, 'click', () => {\n\t\tif (func) {\n\t\t\tfunc();\n\t\t}\n\t\telse if (typeof(tryit) === 'function' && !tryit(pre.innerText)) {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tsetTimeout(() => eval(pre.innerText), 100);\n\t\t}\n\t});\n\n\tif (!func) {\n\t\tpre.setAttribute('contenteditable', true);\n\t}\n}\n","import ready from 'tricks/events/ready';\nimport attr from 'tricks/dom/attr';\n\n// Wait for the DOM to load\nready(() => {\n\n\t// Find all external links which dont have noopener and ensure they do\n\t// https://developers.google.com/web/tools/lighthouse/audits/noopener\n\tattr('a[target=_blank]:not([rel=noopener])', {rel: 'noopener'});\n});","import each from 'tricks/dom/each';\nimport addClass from 'tricks/dom/addClass';\nimport create from 'tricks/dom/create';\nimport prepend from 'tricks/dom/prepend';\nimport parent from 'tricks/dom/parent';\nimport removeClass from 'tricks/dom/removeClass';\nimport onhashchange from 'tricks/window/onhashchange';\nimport getContent from './content';\nimport id from 'tricks/dom/id';\n\n\n// ///////////////////////////////////\n// Navigation\n// ///////////////////////////////////\n\nexport default () => {\n\n\tgetContent(content => {\n\n\t\tif (content.length < 2) {\n\t\t\taddClass(document.documentElement, 'adorn-sidebar-off');\n\t\t\treturn;\n\t\t}\n\n\t\t// Create a sidebar navigation on the body\n\t\tconst aside = prepend('aside', {class: 'adorn-sidebar'});\n\n\t\t// Create elements\n\t\tlet i = 0;\n\t\tlet prev = aside;\n\t\tconst items = {};\n\n\t\teach(content, item => {\n\n\t\t\t// New depth\n\t\t\tconst j = +item.tagName.match(/[0-9]/)[0];\n\n\t\t\t// Get parent UL\n\t\t\tconst ul = getParentUL(prev, i, j);\n\n\t\t\t// Update depth\n\t\t\ti = j;\n\n\t\t\t// Build list item\n\t\t\tconst text = (item.innerText || item.textContent || item.innerHTML);\n\t\t\tconst ref = id(item);\n\n\t\t\titems[ref] = prev = create('li', {}, [\n\t\t\t\tcreate('a', {href: `#${ref}`}, [text])\n\t\t\t], ul);\n\n\t\t});\n\n\t\t// Show current selection\n\t\tonhashchange(hash => {\n\n\t\t\t// Add Class\n\t\t\tconst item = items[hash];\n\t\t\tif (item) {\n\n\t\t\t\t// Remove class\n\t\t\t\tremoveClass('.adorn-sidebar .selected', 'selected');\n\n\t\t\t\t// Add class\n\t\t\t\taddClass(item, 'selected');\n\t\t\t}\n\t\t});\n\n\t});\n\n};\n\nfunction getParentUL(ul, i, j) {\n\tif (i < j) {\n\t\treturn create('ul', {}, [], ul);\n\t}\n\telse {\n\t\tdo {\n\t\t\tul = parent(ul, 'ul') || ul;\n\t\t}\n\t\twhile (ul && i-- > j);\n\t\treturn ul;\n\t}\n}\n","// Social controls\nimport each from 'tricks/dom/each';\nimport jsonp from 'tricks/http/jsonp';\nimport on from 'tricks/events/on';\nimport create from 'tricks/dom/create';\nimport fragment from 'tricks/dom/fragment';\nimport querystringify from 'tricks/string/querystringify';\nimport meta from 'tricks/dom/meta';\nimport query from 'tricks/dom/query';\nimport popup from 'tricks/window/popup';\nimport fullpath from 'tricks/string/fullpath';\n\nconst link = () => {\n\tconst a = query('link[rel=source]');\n\tif (a) {\n\t\treturn a.getAttribute('href');\n\t}\n};\n\nconst url = window.location.href;\n\nexport function github_btn(manifest) {\n\n\tconst content = [];\n\tconst paths = manifest.paths;\n\n\t// GITHUB\n\tif (manifest.github) {\n\n\t\t// Repo\n\t\tlet repo = manifest.github;\n\t\tif (!repo.match('/') && paths.length) {\n\t\t\trepo += `/${ paths[0].replace(/\\/$/, '')}`;\n\t\t}\n\n\t\tif (repo.match('/')) {\n\n\t\t\tconst repo_path = `https://github.com/${repo}`;\n\n\t\t\t// Get the location of this file in the repo\n\t\t\tconst repo_file = link('source') || (window.location.pathname || '').replace(/^\\/?([^/]+)/g, '').replace(/\\/$/, 'index.html').replace(/^\\//, '');\n\n\t\t\tcontent.push(\n\t\t\t\tcreate('a', {\n\t\t\t\t\thref: fullpath(repo_file, `${repo_path}/blob/master/`),\n\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\trel: 'noopener',\n\t\t\t\t\tid: 'adorn-edit'\n\t\t\t\t}, [\n\t\t\t\t\t'Edit this page'\n\t\t\t\t]),\n\t\t\t\tcreate('span'),\n\t\t\t\tcreate('a', {\n\t\t\t\t\thref: `${repo_path}`,\n\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\trel: 'noopener',\n\t\t\t\t\ttitle: 'Stars',\n\t\t\t\t\tid: 'adorn-github-button'\n\t\t\t\t}, [\n\t\t\t\t\tcreate('i', {class: 'adorn-icon-github'}),\n\t\t\t\t\tcreate('span', {class: 'adorn-speeach-bubble'})\n\t\t\t\t])\n\t\t\t);\n\n\t\t\t// Install the GitHub widget\n\t\t\t// Probably could make this a little more ajaxy\n\n\t\t\tjsonp(`https://api.github.com/repos/${repo}?callback=?`, r => {\n\n\t\t\t\tif (r && r.data && r.data.watchers) {\n\n\t\t\t\t\t// Add value to twitter icon\n\t\t\t\t\teach('.adorn-github-button span.adorn-speeach-bubble', item => {\n\t\t\t\t\t\titem.innerHTML = r.data.watchers || '';\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}\n\n\treturn fragment(...content);\n}\n\nexport function twitter_btn (manifest) {\n\n\t// Content\n\tconst content = [];\n\n\t// TWITTER\n\tconst twitter_creator = manifest['twitter:creator'] || meta('twitter:creator');\n\n\t// If we dont have a creator, do nothing\n\tif (!twitter_creator) {\n\t\treturn;\n\t}\n\n\n\t// Create components\n\tconst btn = create('a', {\n\t\thref: 'https://twitter.com/share',\n\t\tclass: 'adorn-twitter-button',\n\t\ttarget: '_blank',\n\t\trel: 'noopener',\n\t\t'data-via': twitter_creator.replace('@', ''),\n\t\ttitle: 'Tweet'\n\t}, [\n\t\tcreate('i', {class: 'adorn-icon-twitter'})\n\t]);\n\n\tcontent.push(\n\t\tbtn,\n\t\tcreate('a', {\n\t\t\thref: `https://twitter.com/search?ref_src=twsrc%5Etfw&q=${ encodeURIComponent(url)}`,\n\t\t\tclass: 'adorn-twitter-count',\n\t\t\trel: 'noopener',\n\t\t\t'aria-label': 'Twitter comments',\n\t\t\ttarget: '_blank'\n\t\t}, [\n\t\t\tcreate('i', {class: 'adorn-speeach-bubble'})\n\t\t])\n\t);\n\n\n\t// Probably could make this a little more ajaxy\n\tjsonp(`https://cdn.syndication.twitter.com/widgets/tweetbutton/count.json?url=${ encodeURIComponent(url)}`, r => {\n\t\t// Add value to twitter icon\n\t\tif (!r) {\n\t\t\treturn;\n\t\t}\n\t\teach('.adorn-twitter-count span.adorn-speeach-bubble', item => {\n\t\t\titem.innerHTML = r.count || '';\n\t\t\titem.title = `This page has been shared ${ r.count } times, view these tweets`;\n\t\t});\n\t});\n\n\n\t// Add event to twitter button\n\ton(btn, 'click', e => {\n\n\t\te.preventDefault();\n\n\t\tconst options = {\n\t\t\twidth: 550,\n\t\t\theight: 250\n\t\t};\n\n\t\tconst params = {\n\t\t\ttext: document.title,\n\t\t\tvia: twitter_creator.replace('@', ''),\n\t\t\turl: window.location.href.replace(/#.*/, '')\n\t\t};\n\n\t\tconst hashtag = meta('twitter:hashtag') || manifest['twitter:hashtag'];\n\t\tif (hashtag) {\n\t\t\tparams.hashtag = hashtag;\n\t\t}\n\n\t\tpopup(`https://twitter.com/intent/tweet?${querystringify(params)}`, 'twitter', options);\n\t});\n\n\treturn fragment(...content);\n}\n\n\nexport function share_btn () {\n\n\t// Does this browser support the native Share API\n\tif (!('share' in navigator)) {\n\t\treturn;\n\t}\n\n\t// Content\n\tconst content = [];\n\n\t// Create components\n\tconst btn = create('button', {\n\t\tclass: 'adorn-icon-share',\n\t\ttarget: '_blank',\n\t\trel: 'noopener',\n\t\ttitle: 'Share'\n\t});\n\n\tcontent.push(btn);\n\n\ton(btn, 'click', () => {\n\t\tnavigator.share({\n\t\t\ttitle: document.title,\n\t\t\ttext: document.title,\n\t\t\turl: location.href\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tbtn.style.color = 'green';\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tbtn.style.color = 'red';\n\t\t\t});\n\t});\n\n\treturn fragment(...content);\n}\n","import create from 'tricks/dom/create';\nimport URL from 'tricks/window/url';\nimport ltrim from 'tricks/string/ltrim';\nimport insertBefore from 'tricks/dom/insertBefore';\nimport contentSelect from './contentSelect';\nimport {twitter_btn, github_btn, share_btn} from './social';\n\n// ///////////////////////////////////\n// TOOLBAR\n// ///////////////////////////////////\n\nexport default manifest => {\n\n\t//\n\t// Build toolbar\n\t//\n\n\t// Tidy the path\n\tlet path = (window.location.pathname || '');\n\tconst root_path = URL(manifest.root).pathname;\n\n\t// Remove the root path from the path\n\tpath = ltrim(path, root_path);\n\n\t// Trim the path\n\tpath = path.replace(/^\\//g, '');\n\n\tconst paths = path.split(/([^/]+\\/?)/).filter(s => !!s);\n\tmanifest.paths = paths;\n\n\tconst crumbs = [\n\t\tcreate('a', {href: manifest.root},\n\t\t\t[\n\t\t\t\tcreate('img', {src: manifest.favicon, alt: window.location.hostname, title: manifest.name})\n\t\t\t])\n\t];\n\n\tpaths.forEach((val, index) => {\n\n\t\tconst href = manifest.root + paths.slice(0, index + 1).join('');\n\t\tconst text = val.replace(/\\.(html?)$/, '');\n\n\t\tcrumbs.push(\n\t\t\t' ',\n\t\t\tcreate('a', {href}, [text])\n\t\t);\n\t});\n\n\t// Create Breadcrumbs\n\tconst breadcrumbs = create('div', {class: 'adorn-breadcrumbs'}, crumbs);\n\n\t// Get Social Buttons\n\tconst social_btns = create('div', {class: 'adorn-links'},\n\t\t[\n\t\t\tgithub_btn(manifest),\n\t\t\tcreate('span'),\n\t\t\ttwitter_btn(manifest),\n\t\t\tcreate('span'),\n\t\t\tshare_btn(manifest)\n\t\t]);\n\n\t// If Navbar Shoutout\n\tif (manifest.shoutout) {\n\t\tsocial_btns.appendChild(create('span'));\n\t\tsocial_btns.insertAdjacentHTML('beforeend', manifest.shoutout);\n\t}\n\n\t// Append\n\tconst aside = create('aside', {class: 'adorn-toolbar'},\n\t\t[\n\t\t\tbreadcrumbs,\n\t\t\tsocial_btns\n\t\t]);\n\n\tinsertBefore(aside, document.body.firstElementChild || document.body.firstChild);\n\n\t// ///////////////////////////////////\n\t// TOC\n\t// ///////////////////////////////////\n\n\tcontentSelect(breadcrumbs);\n};\n","import insertBefore from 'tricks/dom/insertBefore';\nimport create from 'tricks/dom/create';\nimport query from 'tricks/dom/query';\n\nif (!query('meta[name=viewport]')) {\n\n\t// Insert Meta Tag\n\tinsertBefore(create('meta', {\n\t\tname: 'viewport',\n\t\tcontent: 'width=device-width, initial-scale=1.0'\n\t}), document.getElementsByTagName('script')[0]);\n}\n"]}