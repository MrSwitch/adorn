(()=>{var g=e=>{try{return e()}catch{}};function Le(e){return g(()=>JSON.parse(e))}var J=Le;var X=(e,t)=>{let o=new XMLHttpRequest;o.onload=()=>{let r=typeof o.response=="object"?o.response:J(o.response);t(r)},o.onerror=t,o.open("GET",e),"responseType"in o&&g(()=>{o.responseType="json"}),o.send()};var b=(e,t="./")=>{if(!e)return"";try{return new URL(e,new URL(t,window.location)).href||e}catch{return e}};var m=(e,t=document)=>t.querySelector(e);var h=e=>g(()=>m(`meta[name="${e}"]`).content);var M=e=>g(()=>m(`link[rel="${e}"]`).href);var a=(e,t={},o=[],r=null)=>{let i=typeof e=="string"?document.createElement(e):e;for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(n==="text")i.appendChild(document.createTextNode(t[n]));else if(n==="html")typeof t[n]=="string"?i.innerHTML=t[n]:i.appendChild(t[n]);else if(typeof t[n]=="object")for(let l in t[n])Object.prototype.hasOwnProperty.call(t[n],l)&&(i[n][l]=t[n][l]);else typeof t[n]=="function"?i.addEventListener(n,t[n]):i.setAttribute(n,t[n]);return o.forEach(n=>{typeof n=="string"&&(n=document.createTextNode(n)),n&&i.appendChild(n)}),r&&r.appendChild(i),i};var w=(e,t)=>t&&e instanceof t;var De=typeof HTMLElement<"u"&&HTMLElement||typeof Element<"u"&&Element,Se=typeof HTMLDocument<"u"&&HTMLDocument||typeof Document<"u"&&Document,_e=window.constructor,Y=e=>w(e,De)||w(e,Se)||w(e,_e);function $e(e){return Array.prototype.slice.call(e)}var K=$e;function d(e,t=()=>{}){return Y(e)?e=[e]:typeof e=="string"&&(e=document.querySelectorAll(e)),w(e,Array)||(e=K(e)),t&&e.forEach(t),e}var y=(e,t)=>{let o;return d(e,r=>{o||(o=t(r))}),o};var T=(e,t)=>{let o=new RegExp(`(^|\\s)${t}($|\\s)`,"i");return y(e,r=>(r.className||"").match(o))};var x=document.documentElement||document.body.parentNode;var Ne=/[\s,]+/,Q=!1;try{let e=Object.defineProperty({},"passive",{get(){Q=!0}});window.addEventListener("test",null,e)}catch{}function p(e,t,o,r=!1){return typeof r=="object"&&r.passive&&!Q&&(r=!1),t=t.split(Ne),d(e,i=>t.forEach(n=>i.addEventListener(n,o,r)))}var u=e=>{document.readyState!=="loading"&&document.body?e():p(document,"DOMContentLoaded",e)};var V=(e,t)=>{document.documentElement.className=`${document.documentElement.className} ${t?"":"no-"}${e}`};var He="ontouchstart"in window;V("touch",He);"header,section,datalist,option,footer,nav,menu,aside,article,style,script".split(",").forEach(e=>document.createElement(e));var z=(e,t)=>t.parentNode.insertBefore(e,t);m("meta[name=viewport]")||z(a("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),document.getElementsByTagName("script")[0]);var qe=/[\s,]+/;function B(e,t,o){return t=t.split(qe),d(e,r=>t.forEach(i=>r.removeEventListener(i,o)))}var v=document.createElement("div"),Me=v.matches||v.mozMatchesSelector||v.webkitMatchesSelector||v.msMatchesSelector||v.oMatchesSelector,L=(e,t)=>{let o=t;return typeof t=="string"&&(o=r=>Me.call(r,t)),y(e,o)};var Z=(e,t,o,r=document)=>{let i=n=>{let l=n.target;for(;l;)if(L(l,e)){n.delegateTarget=l,o(n);break}else l=l.parentNode};return p(r,t,i),{remove:()=>B(r,t,i)}};var Be=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),ee=Be;var Oe=/^file:\/{3}[^/]/i.test(window.location.href),te=ee&&Oe;var oe=(e=document)=>{if(te)Z("a","click",t=>{let o=t.delegateTarget;o.href&&o.href.match(/^https?:\/\//)&&(t.preventDefault(),window.open(o.href,"_system"))},e);else return!1};var D=(e,t)=>d(e,o=>{for(let r in t){let i=t[r];typeof i=="function"?o[r]=i:o.setAttribute(r,i)}});var S=(e,t)=>{let o=document.createElement(e);return D(o,t),o};var re={bubbles:!0,cancelable:!0},O=(e,t=re)=>new Event(e,t);try{O("test")}catch{O=(e,t=re)=>{let o=document.createEvent("Event");return o.initEvent(e,!!t.bubbles,!!t.cancelable),o}}var I=O;var _=(e,t,o=0)=>{let r=0,i,n=document.getElementsByTagName("script")[0].parentNode,l=s=>{!r++&&t&&t(s),i&&clearTimeout(i)};o&&(i=window.setTimeout(()=>{l(I("timeout"))},o));let c=S("script",{src:e,onerror:l,onload:l,onreadystatechange:()=>{/loaded|complete/i.test(c.readyState)&&l(I("load"))}});return c.async=!0,n.insertBefore(c,n.firstChild),c};var ne=e=>{window._gaq=window._gaq||[],_gaq.push(["_setAccount",e]),_gaq.push(["_trackPageview"]),_(`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`)};u(()=>{D("a[target=_blank]:not([rel=noopener])",{rel:"noopener"})});var ie=(e,t)=>{t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)};function P(){d("pre",e=>{(e.className==="tryit"||e.className==="tryitoffline")&&ae(e)}),d("script",e=>{let t=e.getAttribute("data-tryit");t&&ae(e,window[t]),e.getAttribute("src")&&p(e,"click",()=>{window.open(e.getAttribute("src"),"_blank")})}),d("link",e=>{e.getAttribute("href")&&p(e,"click",()=>{window.open(e.getAttribute("href"),"_blank")})})}function ae(e,t){let o=a("button",{class:"tryit"},["tryit"]);ie(o,e),p(o,"click",()=>{t?t():typeof tryit=="function"&&!tryit(e.innerText)||setTimeout(()=>(0,eval)(e.innerText),100)}),t||e.setAttribute("contenteditable",!0)}function R(e){e.author&&u(()=>{let t=e.author.split(/\s*, \s*/);if(t){let o=["Authored by "];t[1]?o.push(a("a",{href:t[1],rel:"author"},[t[0]])):o.push(t[0]),a("footer",{},o,document.body)}})}var E=(e,t)=>d(e,o=>{T(o,t)||(o.className+=` ${t}`)});var le=(e,t,o=document.body)=>{let r=S(e,t);return o.insertBefore(r,o.firstChild),r};var ce=(e,t)=>{let o=[];return d(e,r=>{for(;r&&r.parentNode&&(r=r.parentNode,r===document&&(r=x),L(r,t)&&o.push(r),r!==x););}),o};var de=(e,t)=>{let o=ce(e,t);return o.length?o[0]:null};var se=(e,t)=>{let o=new RegExp(`(^|\\s)${t}($|\\s)`,"ig");return d(e,r=>{r.className=r.className.replace(o," ")})};var pe=[];p(window,"hashchange",he);function he(){let e=window.location.hash.substr(1);pe.forEach(t=>{t(e)})}var k=e=>{e?pe.push(e):he()};var j=e=>{let t=0,o=0;if(e.offsetParent)do t+=e.offsetLeft,o+=e.offsetTop;while(e=e.offsetParent);return[t,o]};var C=e=>{if(e.id)return e.id;let o=(e.innerText||e.textContent||e.innerHTML).toLowerCase().replace(/\s/g,"-").replace(/[^\d_a-z-]/g,"");return e.id=o,o};var A=class{constructor(...t){this.items=[],this.state="pending",this.response=null,this.push(...t)}push(...t){this.items.push(...t),this.state!=="pending"&&(this.items.forEach(o=>o(this.response)),this.length=0)}get length(){return this.items.length}set length(t){this.items.length=t}resolve(t){this.state="resolved",this.response=t,this.push()}};var Ie=1,$={},W=(e,t=0,o=Ie++)=>(o&&$[o]&&(clearTimeout($[o]),delete $[o]),e&&($[o]=setTimeout(()=>{e()},t)),o);var fe=new A;u(()=>{let e=d("h1,h2");if(!document.querySelector||(document.documentElement.className||"").match(/adorn-(nav|toc)-off/))return;d(e,o=>{let r=C(o);o.insertBefore(a("a",{name:r,href:`#${r}`,"aria-label":`Jump to ${o.innerText}`,class:"adorn-anchor"}),o.firstChild)});{let o=window.location.hash;if(o&&o.length>2){let r=document.querySelector(window.location.hash);r&&r.scrollIntoView()}}e.length&&setTimeout(()=>{E(document.documentElement,"adorn-toc-on")}),fe.resolve(e);let t=W();p(window,"scroll",()=>{W(Pe.bind(null,e),100,t)})});var N=e=>{fe.push(e)};function Pe(e){if(document.readyState!=="complete")return;let t=window.scrollY||window.pageYOffset,o=window.innerHeight,r=document.querySelector(".adorn-toolbar"),i,n=r&&r.offsetHeight||50,l=window.location.hash;if(l){let c=document.querySelector(l);if(c){let s=j(c)[1];if(s>t&&s<t+o)return}}if(y(e,c=>{let s=j(c)[1]+n;if(t<s)return!0;i=c}),i){let c=i.getElementsByTagName("a")[0];c&&(c=c.getAttribute("href").replace(/^#/,"")),"history"in window&&"replaceState"in window.history&&window.location.hash!==`#${c}`&&history.replaceState({},document.title,`#${c}`),k()}}function U(){N(e=>{if(e.length<2){E(document.documentElement,"adorn-sidebar-off");return}let t=le("aside",{class:"adorn-sidebar"}),o=0,r=t,i={};d(e,n=>{let l=+n.tagName.match(/[0-9]/)[0],c=Re(r,o,l);o=l;let s=n.innerText||n.textContent||n.innerHTML,f=C(n);i[f]=r=a("li",{},[a("a",{href:`#${f}`},[s])],c)}),k(n=>{let l=i[n];l&&(se(".adorn-sidebar .selected","selected"),E(l,"selected"))})})}function Re(e,t,o){if(t<o)return a("ul",{},[],e);do e=de(e,"ul")||e;while(e&&t-- >o);return e}var me=e=>{if(e){if(window.URL&&URL instanceof Function&&URL.length!==0)return new URL(e,window.location);{let t=document.createElement("a");return t.href=e,t.cloneNode(!1)}}else return window.location};var ue=(e,t)=>t&&e.indexOf(t)===0?e.slice(t.length):e;function G(e){N(t=>{if(t.lenth<2)return;let o=je(t,e);e.appendChild(o)})}function je(e){let t=a("div",{class:"adorn-toc"}),o=a("select",{"aria-label":"menu"},[],t),r=[];p(o,"change",()=>{window.location.hash=o.options[o.selectedIndex].value});let i=o;return d(e,n=>{let l=+n.tagName.match(/[0-9]/)[0],c=n.innerText||n.textContent||n.innerHTML,s=C(n);l===1&&(i=a("optgroup",{label:c},[],o)),a("option",{value:s},[c],i),r.push(s)}),k(n=>{o.selectedIndex=r.indexOf(n)}),t}var ge=()=>parseInt(Math.random()*1e12).toString(36);var be=(e,t,o="_tricks_")=>(t=t||o+ge(),window[t]=We.bind(null,t,e),t);function We(e,t,...o){t(...o)&&delete window[e]}var Ue=/[=]\?(&|$)/,xe=(e,t,o,r=6e4)=>{let i;o=be(l=>(i=l,!0),o),e=e.replace(Ue,`=${o}$1`);let n=_(e,()=>{t(i),n.parentNode.removeChild(n)},r);return n};var H=(...e)=>{let t=document.createDocumentFragment();return e.forEach(o=>t.appendChild(o)),t};var q=(e,t="&",o="=",r=i=>i)=>Object.keys(e).map(i=>{let n=r(e[i]);return i+(n!==null?o+n:"")}).join(t);var Ge=e=>e==="?"?"?":encodeURIComponent(e),we=(e,t=Ge)=>q(e,"&","=",t);var Je=document.documentElement,Xe=[["Top","Height"],["Left","Width"]],ye=(e,t,o={})=>(Xe.forEach(Ye.bind(o)),window.open(e,t,q(o,",")));function Ye([e,t]){let o=e.toLowerCase(),r=t.toLowerCase();if(this[r]&&!(o in this)){let i=window[`screen${e}`]!==void 0?window[`screen${e}`]:screen[o],n=screen[r]||window[`inner${t}`]||Je[`client${t}`];this[o]=parseInt((n-this[r])/2)+i}}function Ke(){let e=m("link[rel=source]");if(e)return e.getAttribute("href")}function ke(e){try{return new Intl.NumberFormat().format(e)}catch{return e}}function Ce(e){let t=[],o=e.paths;if(!e.github)return;let r=e.github;!r.match("/")&&o.length&&(r+=`/${o[0].replace(/\/$/,"")}`);let i,n=`https://github.com/${r}`,l=Ke("source")||(window.location.pathname||"").replace(/^\/?([^/]+)/g,"").replace(/\/$/,"index.html").replace(/^\//,"");return r.match("/")&&(t.push(a("a",{href:b(l,`${n}/blob/master/`),target:"_blank",rel:"noopener",id:"adorn-edit"},["Suggest an edit"]),a("span")),i=a("span",{class:"adorn-speech-bubble"}),xe(`https://api.github.com/repos/${r}?callback=?`,c=>{let s=c?.data?.stargazers_count;s&&(i.innerHTML=`${ke(s)}\u2B50\uFE0F`,i.title=`${ke(s)} Github \u2B50\uFE0Fgazers`)})),t.push(a("a",{href:`${n}`,target:"_blank",rel:"noopener",title:"Github",id:"adorn-github-button"},[a("i",{class:"adorn-icon-github"}),i])),H(...t)}function ve(e){let t=[],o=["twitter:creator","twitter-x:creator"].map(i=>e[i]||h(i)).filter(Boolean)[0];if(!o)return;let r=a("a",{href:"https://x.com/intent/post",class:"adorn-twitter-button",target:"_blank",rel:"noopener","data-via":o.replace("@",""),title:"Tweet"},[a("i",{class:"adorn-icon-twitter"})]);return t.push(r),p(r,"click",i=>{i.preventDefault();let n={width:550,height:250},l={text:document.title,via:o.replace("@",""),url:window.location.href.replace(/#.*/,"")},c=["twitter:hashtag","twitter-x:hashtag"].map(s=>e[s]||h(s)).filter(Boolean)[0];c&&(l.hashtag=c),ye(`https://x.com/intent/post?${we(l)}`,"x",n)}),H(...t)}function Ee(){if(!("share"in navigator))return;let e=[],t=a("a",{class:"adorn-icon-share",title:"Share",href:"javascript:void(0);"});return e.push(t),p(t,"click",()=>{try{navigator.share({title:document.title,text:document.title,url:location.href})}catch(o){console.warn("Share API failed",o)}}),H(...e)}var Ae=e=>{let t=window.location.pathname||"",o=me(e.root).pathname;t=ue(t,o),t=t.replace(/^\//g,"");let r=t.split(/([^/]+\/?)/).filter(f=>!!f);e.paths=r;let i=[a("a",{href:e.root},[a("img",{src:e.favicon,alt:window.location.hostname,title:e.name})])];r.forEach((f,F)=>{let Te=e.root+r.slice(0,F+1).join(""),ze=f.replace(/\.(html?)$/,"");i.push(" ",a("a",{href:Te},[ze]))});let n=a("div",{class:"adorn-breadcrumbs"},i),l=[Ce(e),ve(e),Ee(e)].reduce((f,F)=>(F&&(f.length&&f.push(a("span")),f.push(F)),f),[]),c=a("div",{class:"adorn-links"},l);e.shoutout&&(c.appendChild(a("span")),c.insertAdjacentHTML("beforeend",e.shoutout));let s=a("aside",{class:"adorn-toolbar"},[n,c]);z(s,document.body.firstElementChild||document.body.firstChild),G(n)};u(P);{let e=h("manifest")||M("manifest")||"/manifest.json";X(e,Fe.bind(null,e))}oe();function Fe(e,t){if(t&&!(h("manifest")||M("manifest"))&&a("link",{rel:"manifest",href:e},[],document.head),t&&t.theme_color&&!h("theme-color")&&a("meta",{name:"theme-color",content:t.theme_color},[],document.head),!document.body){u(Fe.bind(null,e,t));return}t=t||{},t.favicon=h("favicon")||b(t.favicon,e)||"/favicon.ico",t.author=h("author")||t.author,t.root=h("root")||b(t.root||"/",e),T(x,"no-adorn")||(Ae(t),U(t),R(t)),x.getAttribute("lang")||x.setAttribute("lang",t.lang||"en"),document.title||(document.title=m("h1,h2").textContent||"");{let o=h("ga:tracking")||t["ga:tracking"];o&&ne(o)}{let o=h("sw")||h("serviceworker");o?o=b(o):(o=t.sw||t.serviceworker,o&&(o=b(o,e)));let r=navigator.serviceWorker;o&&r&&(Qe().then(()=>{let i=t.fallover;i&&i.forEach(n=>{let l="fallover",{mode:c}=n,{fallover:s}=n;s=b(s,e),r.controller.postMessage({type:l,fallover:s,mode:c})})}),r.register(o).catch(i=>{console.error("Adorn: SW registration failed: ",i)}))}}async function Qe(){let e=navigator.serviceWorker;return await e.ready,new Promise(t=>{if(e.controller)return t();e.addEventListener("controllerchange",()=>t())})}})();
/*!*/
/*! Adorn by Andrew Dodson, https://adodson.com/adorn/LICENSE (MIT) */
//# sourceMappingURL=adorn.js.map
