(()=>{var b=e=>{try{return e()}catch{}};function $e(e){return b(()=>JSON.parse(e))}var Y=$e;var G=(e,t)=>{let o=new XMLHttpRequest;o.onload=()=>{let r=typeof o.response=="object"?o.response:Y(o.response);t(r)},o.onerror=t,o.open("GET",e),"responseType"in o&&b(()=>{o.responseType="json"}),o.send()};var w=(e,t="./")=>{if(!e)return"";try{return new URL(e,new URL(t,window.location)).href||e}catch{return e}};var u=(e,t=document)=>t.querySelector(e);var f=e=>b(()=>u(`meta[name="${e}"]`).content);var O=e=>b(()=>u(`link[rel="${e}"]`).href);var a=(e,t={},o=[],r=null)=>{let i=typeof e=="string"?document.createElement(e):e;for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(n==="text")i.appendChild(document.createTextNode(t[n]));else if(n==="html")typeof t[n]=="string"?i.innerHTML=t[n]:i.appendChild(t[n]);else if(typeof t[n]=="object")for(let c in t[n])Object.prototype.hasOwnProperty.call(t[n],c)&&(i[n][c]=t[n][c]);else i.setAttribute(n,t[n]);return o.forEach(n=>{typeof n=="string"&&(n=document.createTextNode(n)),n&&i.appendChild(n)}),r&&r.appendChild(i),i};var x=(e,t)=>t&&e instanceof t;var Se=typeof HTMLElement<"u"&&HTMLElement||typeof Element<"u"&&Element,De=typeof HTMLDocument<"u"&&HTMLDocument||typeof Document<"u"&&Document,Ne=window.constructor,V=e=>x(e,Se)||x(e,De)||x(e,Ne);function He(e){return Array.prototype.slice.call(e)}var K=He;function l(e,t=()=>{}){return V(e)?e=[e]:typeof e=="string"&&(e=document.querySelectorAll(e)),x(e,Array)||(e=K(e)),t&&e.forEach(t),e}var y=(e,t)=>{let o;return l(e,r=>{o||(o=t(r))}),o};var _=(e,t)=>{let o=new RegExp(`(^|\\s)${t}($|\\s)`,"i");return y(e,r=>(r.className||"").match(o))};var g=document.documentElement||document.body.parentNode;var Me=/[\s,]+/,Q=!1;try{let e=Object.defineProperty({},"passive",{get(){Q=!0}});window.addEventListener("test",null,e)}catch{}function d(e,t,o,r=!1){return typeof r=="object"&&r.passive&&!Q&&(r=!1),t=t.split(Me),l(e,i=>t.forEach(n=>i.addEventListener(n,o,r)))}var h=e=>{document.readyState!=="loading"&&document.body?e():d(document,"DOMContentLoaded",e)};var Z=(e,t)=>{document.documentElement.className=`${document.documentElement.className} ${t?"":"no-"}${e}`};var ze="ontouchstart"in window;Z("touch",ze);"header,section,datalist,option,footer,nav,menu,aside,article,style,script".split(",").forEach(e=>document.createElement(e));var A=(e,t)=>t.parentNode.insertBefore(e,t);u("meta[name=viewport]")||A(a("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),document.getElementsByTagName("script")[0]);var Ie=/[\s,]+/;function R(e,t,o){return t=t.split(Ie),l(e,r=>t.forEach(i=>r.removeEventListener(i,o)))}var v=document.createElement("div"),Oe=v.matches||v.mozMatchesSelector||v.webkitMatchesSelector||v.msMatchesSelector||v.oMatchesSelector,$=(e,t)=>{let o=t;return typeof t=="string"&&(o=r=>Oe.call(r,t)),y(e,o)};var ee=(e,t,o,r=document)=>{let i=n=>{let c=n.target;for(;c;)if($(c,e)){n.delegateTarget=c,o(n);break}else c=c.parentNode};return d(r,t,i),{remove:()=>R(r,t,i)}};var Re=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),te=Re;var qe=/^file:\/{3}[^/]/i.test(window.location.href),oe=te&&qe;var re=(e=document)=>{if(oe)ee("a","click",t=>{let o=t.delegateTarget;o.href&&o.href.match(/^https?:\/\//)&&(t.preventDefault(),window.open(o.href,"_system"))},e);else return!1};var S=(e,t)=>l(e,o=>{for(let r in t){let i=t[r];typeof i=="function"?o[r]=i:o.setAttribute(r,i)}});var D=(e,t)=>{let o=document.createElement(e);return S(o,t),o};var ne={bubbles:!0,cancelable:!0},q=(e,t=ne)=>new Event(e,t);try{q("test")}catch{q=(e,t=ne)=>{let o=document.createEvent("Event");return o.initEvent(e,!!t.bubbles,!!t.cancelable),o}}var j=q;var N=(e,t,o=0)=>{let r=0,i,n=document.getElementsByTagName("script")[0].parentNode,c=p=>{!r++&&t&&t(p),i&&clearTimeout(i)};o&&(i=window.setTimeout(()=>{c(j("timeout"))},o));let s=D("script",{src:e,onerror:c,onload:c,onreadystatechange:()=>{/loaded|complete/i.test(s.readyState)&&c(j("load"))}});return s.async=!0,n.insertBefore(s,n.firstChild),s};var ie=e=>{window._gaq=window._gaq||[],_gaq.push(["_setAccount",e]),_gaq.push(["_trackPageview"]),N(`${document.location.protocol==="https:"?"https://ssl":"http://www"}.google-analytics.com/ga.js`)};h(()=>{S("a[target=_blank]:not([rel=noopener])",{rel:"noopener"})});var ae=(e,t)=>{t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)};function P(){l("pre",e=>{(e.className==="tryit"||e.className==="tryitoffline")&&ce(e)}),l("script",e=>{let t=e.getAttribute("data-tryit");t&&ce(e,window[t]),e.getAttribute("src")&&d(e,"click",()=>{window.open(e.getAttribute("src"),"_blank")})}),l("link",e=>{e.getAttribute("href")&&d(e,"click",()=>{window.open(e.getAttribute("href"),"_blank")})})}function ce(e,t){let o=a("button",{class:"tryit"},["tryit"]);ae(o,e),d(o,"click",()=>{t?t():typeof tryit=="function"&&!tryit(e.innerText)||setTimeout(()=>(0,eval)(e.innerText),100)}),t||e.setAttribute("contenteditable",!0)}function B(e){e.author&&h(()=>{let t=e.author.split(/\s*, \s*/);if(t){let o=["Authored by "];t[1]?o.push(a("a",{href:t[1],rel:"author"},[t[0]])):o.push(t[0]),a("footer",{},o,document.body)}})}var E=(e,t)=>l(e,o=>{_(o,t)||(o.className+=` ${t}`)});var se=(e,t,o=document.body)=>{let r=D(e,t);return o.insertBefore(r,o.firstChild),r};var le=(e,t)=>{let o=[];return l(e,r=>{for(;r&&r.parentNode&&(r=r.parentNode,r===document&&(r=g),$(r,t)&&o.push(r),r!==g););}),o};var de=(e,t)=>{let o=le(e,t);return o.length?o[0]:null};var pe=(e,t)=>{let o=new RegExp(`(^|\\s)${t}($|\\s)`,"ig");return l(e,r=>{r.className=r.className.replace(o," ")})};var fe=[];d(window,"hashchange",me);function me(){let e=window.location.hash.substr(1);fe.forEach(t=>{t(e)})}var C=e=>{e?fe.push(e):me()};var F=e=>{let t=0,o=0;if(e.offsetParent)do t+=e.offsetLeft,o+=e.offsetTop;while(e=e.offsetParent);return[t,o]};var k=e=>{if(e.id)return e.id;let o=(e.innerText||e.textContent||e.innerHTML).toLowerCase().replace(/\s/g,"-").replace(/[^\d_a-z-]/g,"");return e.id=o,o};var T=class{constructor(...t){this.items=[],this.state="pending",this.response=null,this.push(...t)}push(...t){this.items.push(...t),this.state!=="pending"&&(this.items.forEach(o=>o(this.response)),this.length=0)}get length(){return this.items.length}set length(t){this.items.length=t}resolve(t){this.state="resolved",this.response=t,this.push()}};var je=1,H={},U=(e,t=0,o=je++)=>(o&&H[o]&&(clearTimeout(H[o]),delete H[o]),e&&(H[o]=setTimeout(()=>{e()},t)),o);var ue=new T;h(()=>{let e=l("h1,h2");if(!document.querySelector||(document.documentElement.className||"").match(/adorn-(nav|toc)-off/))return;l(e,o=>{let r=k(o);o.insertBefore(a("a",{name:r,href:`#${r}`,"aria-label":`Jump to ${o.innerText}`,class:"adorn-anchor"}),o.firstChild)});{let o=window.location.hash;if(o&&o.length>2){let r=document.querySelector(window.location.hash);r&&r.scrollIntoView()}}e.length&&setTimeout(()=>{E(document.documentElement,"adorn-toc-on")}),ue.resolve(e);let t=U();d(window,"scroll",()=>{U(Pe.bind(null,e),100,t)})});var M=e=>{ue.push(e)};function Pe(e){if(document.readyState!=="complete")return;let t=window.scrollY||window.pageYOffset,o=window.innerHeight,r=document.querySelector(".adorn-toolbar"),i,n=r&&r.offsetHeight||50,c=window.location.hash;if(c){let s=document.querySelector(c);if(s){let p=F(s)[1];if(p>t&&p<t+o)return}}if(y(e,s=>{let p=F(s)[1]+n;if(t<p)return!0;i=s}),i){let s=i.getElementsByTagName("a")[0];s&&(s=s.getAttribute("href").replace(/^#/,"")),"history"in window&&"replaceState"in window.history&&window.location.hash!==`#${s}`&&history.replaceState({},document.title,`#${s}`),C()}}function W(){M(e=>{if(e.length<2){E(document.documentElement,"adorn-sidebar-off");return}let t=se("aside",{class:"adorn-sidebar"}),o=0,r=t,i={};l(e,n=>{let c=+n.tagName.match(/[0-9]/)[0],s=Be(r,o,c);o=c;let p=n.innerText||n.textContent||n.innerHTML,m=k(n);i[m]=r=a("li",{},[a("a",{href:`#${m}`},[p])],s)}),C(n=>{let c=i[n];c&&(pe(".adorn-sidebar .selected","selected"),E(c,"selected"))})})}function Be(e,t,o){if(t<o)return a("ul",{},[],e);do e=de(e,"ul")||e;while(e&&t-- >o);return e}var he=e=>{if(e){if(window.URL&&URL instanceof Function&&URL.length!==0)return new URL(e,window.location);{let t=document.createElement("a");return t.href=e,t.cloneNode(!1)}}else return window.location};var be=(e,t)=>t&&e.indexOf(t)===0?e.slice(t.length):e;function J(e){M(t=>{if(t.lenth<2)return;let o=Fe(t,e);e.appendChild(o)})}function Fe(e){let t=a("div",{class:"adorn-toc"}),o=a("select",{"aria-label":"menu"},[],t),r=[];d(o,"change",()=>{window.location.hash=o.options[o.selectedIndex].value});let i=o;return l(e,n=>{let c=+n.tagName.match(/[0-9]/)[0],s=n.innerText||n.textContent||n.innerHTML,p=k(n);c===1&&(i=a("optgroup",{label:s},[],o)),a("option",{value:p},[s],i),r.push(p)}),C(n=>{o.selectedIndex=r.indexOf(n)}),t}var we=()=>parseInt(Math.random()*1e12).toString(36);var ge=(e,t,o="_tricks_")=>(t=t||o+we(),window[t]=Ue.bind(null,t,e),t);function Ue(e,t,...o){t(...o)&&delete window[e]}var We=/[=]\?(&|$)/,X=(e,t,o,r=6e4)=>{let i;o=ge(c=>(i=c,!0),o),e=e.replace(We,`=${o}$1`);let n=N(e,()=>{t(i),n.parentNode.removeChild(n)},r);return n};var z=(...e)=>{let t=document.createDocumentFragment();return e.forEach(o=>t.appendChild(o)),t};var I=(e,t="&",o="=",r=i=>i)=>Object.keys(e).map(i=>{let n=r(e[i]);return i+(n!==null?o+n:"")}).join(t);var Je=e=>e==="?"?"?":encodeURIComponent(e),xe=(e,t=Je)=>I(e,"&","=",t);var Xe=document.documentElement,Ye=[["Top","Height"],["Left","Width"]],ye=(e,t,o={})=>(Ye.forEach(Ge.bind(o)),window.open(e,t,I(o,",")));function Ge([e,t]){let o=e.toLowerCase(),r=t.toLowerCase();if(this[r]&&!(o in this)){let i=window[`screen${e}`]!==void 0?window[`screen${e}`]:screen[o],n=screen[r]||window[`inner${t}`]||Xe[`client${t}`];this[o]=parseInt((n-this[r])/2)+i}}var Ve=()=>{let e=u("link[rel=source]");if(e)return e.getAttribute("href")},Ce=window.location.href;function ke(e){let t=[],o=e.paths;if(!e.github)return;let r=e.github;if(!r.match("/")&&o.length&&(r+=`/${o[0].replace(/\/$/,"")}`),!r.match("/"))return;let i=`https://github.com/${r}`,n=Ve("source")||(window.location.pathname||"").replace(/^\/?([^/]+)/g,"").replace(/\/$/,"index.html").replace(/^\//,"");return t.push(a("a",{href:w(n,`${i}/blob/master/`),target:"_blank",rel:"noopener",id:"adorn-edit"},["Edit this page"]),a("span"),a("a",{href:`${i}`,target:"_blank",rel:"noopener",title:"Stars",id:"adorn-github-button"},[a("i",{class:"adorn-icon-github"}),a("span",{class:"adorn-speeach-bubble"})])),X(`https://api.github.com/repos/${r}?callback=?`,c=>{c&&c.data&&c.data.watchers&&l(".adorn-github-button span.adorn-speeach-bubble",s=>{s.innerHTML=c.data.watchers||""})}),z(...t)}function ve(e){let t=[],o=e["twitter:creator"]||f("twitter:creator");if(!o)return;let r=a("a",{href:"https://twitter.com/share",class:"adorn-twitter-button",target:"_blank",rel:"noopener","data-via":o.replace("@",""),title:"Tweet"},[a("i",{class:"adorn-icon-twitter"})]);return t.push(r,a("a",{href:`https://twitter.com/search?ref_src=twsrc%5Etfw&q=${encodeURIComponent(Ce)}`,class:"adorn-twitter-count",rel:"noopener","aria-label":"Twitter comments",target:"_blank"},[a("i",{class:"adorn-speeach-bubble"})])),X(`https://cdn.syndication.twitter.com/widgets/tweetbutton/count.json?url=${encodeURIComponent(Ce)}`,i=>{i&&l(".adorn-twitter-count span.adorn-speeach-bubble",n=>{n.innerHTML=i.count||"",n.title=`This page has been shared ${i.count} times, view these tweets`})}),d(r,"click",i=>{i.preventDefault();let n={width:550,height:250},c={text:document.title,via:o.replace("@",""),url:window.location.href.replace(/#.*/,"")},s=f("twitter:hashtag")||e["twitter:hashtag"];s&&(c.hashtag=s),ye(`https://twitter.com/intent/tweet?${xe(c)}`,"twitter",n)}),z(...t)}function Ee(){if(!("share"in navigator))return;let e=[],t=a("button",{class:"adorn-icon-share",target:"_blank",rel:"noopener",title:"Share"});return e.push(t),d(t,"click",()=>{try{navigator.share({title:document.title,text:document.title,url:location.href}).then(()=>{t.style.color="green"})}catch{t.style.color="red"}}),z(...e)}var Te=e=>{let t=window.location.pathname||"",o=he(e.root).pathname;t=be(t,o),t=t.replace(/^\//g,"");let r=t.split(/([^/]+\/?)/).filter(m=>!!m);e.paths=r;let i=[a("a",{href:e.root},[a("img",{src:e.favicon,alt:window.location.hostname,title:e.name})])];r.forEach((m,L)=>{let _e=e.root+r.slice(0,L+1).join(""),Ae=m.replace(/\.(html?)$/,"");i.push(" ",a("a",{href:_e},[Ae]))});let n=a("div",{class:"adorn-breadcrumbs"},i),c=[ke(e),ve(e),Ee(e)].reduce((m,L)=>(L&&(m.length&&m.push(a("span")),m.push(L)),m),[]),s=a("div",{class:"adorn-links"},c);e.shoutout&&(s.appendChild(a("span")),s.insertAdjacentHTML("beforeend",e.shoutout));let p=a("aside",{class:"adorn-toolbar"},[n,s]);A(p,document.body.firstElementChild||document.body.firstChild),J(n)};h(P);{let e=f("manifest")||O("manifest")||"/manifest.json";G(e,Le.bind(null,e))}re();function Le(e,t){if(t&&!(f("manifest")||O("manifest"))&&a("link",{rel:"manifest",href:e},[],document.head),t&&t.theme_color&&!f("theme-color")&&a("meta",{name:"theme-color",content:t.theme_color},[],document.head),!document.body){h(Le.bind(null,e,t));return}t=t||{},t.favicon=f("favicon")||w(t.favicon,e)||"/favicon.ico",t.author=f("author")||t.author,t.root=f("root")||w(t.root||"/",e),_(g,"no-adorn")||(Te(t),W(t),B(t)),g.getAttribute("lang")||g.setAttribute("lang",t.lang||"en"),document.title||(document.title=u("h1,h2").textContent||"");{let o=f("ga:tracking")||t["ga:tracking"];o&&ie(o)}{let o=f("sw")||f("serviceworker");o?o=w(o):(o=t.sw||t.serviceworker,o&&(o=w(o,e)));let r=navigator.serviceWorker;o&&r&&(Ke().then(()=>{let i=t.fallover;i&&i.forEach(n=>{let c="fallover",{mode:s}=n,{fallover:p}=n;p=w(p,e),r.controller.postMessage({type:c,fallover:p,mode:s})})}),r.register(o).catch(i=>{console.error("Adorn: SW registration failed: ",i)}))}}async function Ke(){let e=navigator.serviceWorker;return await e.ready,new Promise(t=>{if(e.controller)return t();e.addEventListener("controllerchange",()=>t())})}})();
/*!*/
/*! Adorn by Andrew Dodson, https://adodson.com/adorn/LICENSE (MIT) */
//# sourceMappingURL=adorn.js.map
